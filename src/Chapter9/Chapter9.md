# Chapter 9 단위 테스트

---

## TDD 법칙 세 가지

- 첫째 법칙: 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
- 둘째 법칙: 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
- 셋째 법칙: 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

이 규칙을 따르면 개발과 테스트가 대략 30초 주기로 묶인다. 테스트 코드와 실제 코드가 함께 나올뿐더러 테스트 코드가 실제 코드보다 불과 몇 초 전에 나온다.

이렇게 일하면 매일 수십 개, 매달 수백 개, 매년 수천 개에 달하는 테스트 케이스가 나온다.

→ 실제 코드와 맞먹을 정도로 방대한 테스트 코드는 심각한 관리 문제를 유발하기도 한다.

---

## 깨끗한 테스트 코드 유지하기

지저분한 테스트 코드는 많은 문제를 일으킨다.

- 테스트 코드가 지저분할수록 변경하기 어려워진다.
- 실제 코드를 변경해 기존 테스트가 실패하기 시작하면, 지저분한 코드로 인해, 실패하는 테스트 케이스를 점점 더 통과하기 어려워진다.
- 새 버전을 출시할 때마다 팀이 테스트 케이스를 유지하고 보수하는 비용도 늘어난다.
  → 테스트 코드가 가장 큰 불만으로 자리잡는다.
- 그렇다고 테스트 코드가 없다면 시스템의 결함율이 높아진다.
  → 개발자가 변경을 주저하게 된다.
- 결국에는 코드가 망가지기 시작한다.

결론적으로 **테스트 코드는 실제 코드 못지 않게 중요하다!!**

### 테스트는 유연성, 유지보수성, 재사용성을 제공한다.